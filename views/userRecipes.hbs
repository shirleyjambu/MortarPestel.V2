<h3>My Own Recipes </h3>
<div class="row">
  {{#each recipeData}}
  <div class="col s12 m4 l4 p-2">
    <div class="card small">
    <div class="card-image waves-effect waves-block waves-light">
      <img class="activator" src="{{this.recipe_image}}">
    </div>
    <div class="card-content">
      <span class="card-title activator grey-text text-darken-4">{{this.recipe_name}}<i class="material-icons right">more_vert</i></span>
      <p><a href="user/shareRecipe">Share Recipe</a></p>
    </div>
    <div class="card-reveal">
      <span class="card-title grey-text text-darken-4">
        {{this.recipe_name}}<i class="material-icons right">close</i>
      </span>
      {{this.recipe_html}}
    </div>
    <div class="card-action">
      <a class="tooltipped" data-position="bottom" data-tooltip="Download" href="/api/getPDF/{{this.id}}"><i class="material-icons">cloud_download</i></a>
      <a class="tooltipped" data-position="bottom" data-tooltip="Edit" href="/api/editRecipe/{{this.id}}"><i class="material-icons">edit</i></a>
      <a class="tooltipped" data-position="bottom" data-tooltip="Delete" href="/api/deleteRecipe/{{this.id}}"><i class="material-icons">delete_forever</i></a>
      <a class="tooltipped" data-position="bottom" data-tooltip="View" href="/api/viewRecipe/{{this.id}}"><i class="material-icons">view_headline</i></a>
      <a class="tooltipped" data-position="bottom" data-tooltip="Share" href="#" onclick="shareRecipe()"><i class="material-icons">share</i></a>
    </div>
  </div>
</div>
{{/each}}
</div>
<script>
  $(document).ready(function(){
    $('.tooltipped').tooltip();
  });

  function shareRecipe (){
   Swal.fire({
 title: 'Enter the email id?',
 input: 'text',
 inputAttributes: {
   autocapitalize: 'off'
 },
 showCancelButton: true,
 confirmButtonText: 'Look up',
 showLoaderOnConfirm: true,
 preConfirm: (input) => {
   return fetch(`/user/shareRecipe/${input}`)
     .then(response => {
       if (!response.ok) {
         throw new Error(response.statusText)
       }
       return response.json()
     })
     .catch(error => {
       Swal.showValidationMessage(
         `Request failed: ${error}`
       )
     })
 },
 allowOutsideClick: () => !Swal.isLoading()
}).then((result) => {
 if (result.value) {
   Swal.fire({
     title: `'You've shared your recipe with '${input}`,
     imageUrl: result.value.avatar_url
   })
 }
})
  };
</script>